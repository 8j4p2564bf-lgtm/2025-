<!DOCTYPE html>
<html lang="zh-Hant">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>âš¡ï¸ é—œè¥¿æ¼«éŠ | å‹•æ…‹è¡Œç¨‹è¡¨</title>
   <script src="https://cdn.tailwindcss.com"></script>
   <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
   <style>
       /* 1. å…¨å±€ CSS åŸºç¤è¨­å®š */
       html, body {
           margin: 0;
           padding: 0;
           overflow-x: hidden;
           scroll-behavior: smooth;
       }
       body {
           font-family: 'Inter', sans-serif;
           background-color: #0c0a09; /* æ›´æ·±çš„èƒŒæ™¯ (Stone 950) */
           color: #f5f5f4;
       }
       .app-container {
           width: 100vw;
           max-width: 640px;
           min-height: 100vh;
           background-color: #1c1917; /* å…§å®¹å¡ç‰‡èƒŒæ™¯ (Stone 900) */
           box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
       }
       
       /* 2. å‹•æ…‹åŠç”Ÿå‹•åŒ–æ•ˆæœ */
       
       /* Tab æŒ‰éˆ•æ¨£å¼èˆ‡éæ¸¡ */
       .tab-button {
           color: #d6d3d1;
           border-bottom: 3px solid transparent;
           transition: all 0.3s ease-in-out; /* å¢åŠ éæ¸¡æ•ˆæœ */
           transform: translateY(0);
       }
       .tab-button.active {
           background-color: #292524;
           color: #fcd34d; /* æ›´äº®çš„é‡‘ç¥ç€è‰² (Amber 300) */
           border-bottom: 3px solid #fcd34d;
           font-weight: 700;
           box-shadow: 0 4px 10px rgba(252, 211, 77, 0.1); /* åº•éƒ¨é™°å½± */
       }
       
       /* æ™¯é»å¯é»æ“Šé€£çµæ¨£å¼ (é»æ“Šè„ˆè¡æ•ˆæœ) */
       .spot-clickable {
           cursor: pointer;
           text-decoration: underline;
           text-decoration-color: #fcd34d;
           text-underline-offset: 4px;
           font-weight: 600;
           transition: color 0.2s, transform 0.1s;
       }
       .spot-clickable:active {
            transform: scale(0.98); /* é»æ“Šä¸‹å£“æ•ˆæœ */
       }
       
       /* æ™‚é–“è»¸ç·šæ¢é¡è‰² */
       .timeline-line {
           border-left: 2px solid #57534e;
           transition: all 0.5s ease-out;
       }
       
       /* æ™¯é»å½ˆçª—é€²å…¥å‹•ç•« */
       @keyframes fadeInScale {
           from { opacity: 0; transform: scale(0.95) translateY(10px); }
           to { opacity: 1; transform: scale(1) translateY(0); }
       }
       .modal-card {
           animation: fadeInScale 0.25s ease-out forwards;
       }
       
       /* å±•é–‹/æ”¶åˆæ¨™é¡Œçš„æ—‹è½‰æ•ˆæœ */
       .summary-icon {
           transition: transform 0.3s;
       }
       details[open] .summary-icon {
           transform: rotate(90deg);
       }

   </style>
</head>

<body class="flex justify-center">

<div class="app-container overflow-hidden">

   <!-- é ‚éƒ¨æ¨™é¡Œèˆ‡ç¸½è¦½ (ä½¿ç”¨ Stone 950 æœ€æ·±çš„èƒŒæ™¯) -->
   <header class="p-6 bg-stone-950 shadow-lg border-b border-stone-800">
       <h1 class="text-3xl font-extrabold text-fcd34d mb-1 flex items-center">
           <span class="mr-2 text-4xl">âœˆï¸</span> é—œè¥¿äº”æ—¥ãƒ»å‹•æ…‹è¡Œç¨‹
       </h1>
       <p class="text-sm text-stone-300">æ—¥æœŸï¼š10/16 ~ 10/20 (5å¤©4å¤œ) | 4äººå®¶æ—æ—…è¡Œ</p>
   </header>

   <!-- èˆªç­èˆ‡é‡è¦è³‡è¨Šå€ -->
   <div class="p-4 bg-stone-900 border-b border-stone-800">
       <h2 class="text-lg font-bold text-stone-200 mb-2">æ©Ÿç¥¨èˆ‡é£¯åº—ç¸½è¦½</h2>
       <div class="grid grid-cols-2 gap-2 text-sm">
           <div>
               <p class="font-medium text-stone-300">å»ç¨‹ (10/16)</p>
               <p class="text-stone-400">CI0152 TPE 09:00 â†’ KIX 12:50</p>
           </div>
           <div>
               <p class="font-medium text-stone-300">å›ç¨‹ (10/20)</p>
               <p class="text-stone-400">CI0153 KIX 14:00 â†’ TPE 15:55</p>
           </div>
           <div class="col-span-2 mt-2">
                <p class="text-xs text-stone-400">ğŸ“ ä½å®¿ï¼š<span class="font-semibold text-fcd34d">äº¬éƒ½ (M's Hotel)</span>, <span class="font-semibold text-fcd34d">å¤§é˜ª (Bridge Hotel)</span></p>
           </div>
       </div>
   </div>
   
   <!-- æ—…éŠé‡è¦è³‡è¨Šå€ (å¯æŠ˜ç–Šçš„ Accordion æ•ˆæœ) -->
   <details class="mx-4 my-4 rounded-xl bg-stone-900 border border-fcd34d/50 shadow-xl">
       <summary class="p-4 font-extrabold text-fcd34d flex justify-between items-center cursor-pointer">
           <span>ğŸš¨ è¡Œå‰å¿…å‚™èˆ‡æ•‘å‘½è³‡è¨Š (é»æ“Šå±•é–‹)</span>
           <span class="summary-icon">â–¶</span>
       </summary>
       <div class="p-4 pt-0 text-sm space-y-3 text-stone-300 border-t border-stone-800">
           
           <!-- ç¶²è·¯è³‡è¨Š -->
           <p><span class="font-bold text-amber-500">ğŸ“¶ ç¶²è·¯é€£ç·šç‹€æ…‹ï¼š</span> <span class="text-green-400 font-bold">å·²ç¢ºèªä¸é™å®¹é‡é«˜é€Ÿç¶²å¡ï¼</span></p>

           <!-- åŒ¯ç‡èˆ‡ç·Šæ€¥é›»è©± -->
           <p><span class="font-bold text-amber-500">ğŸ’´ åƒè€ƒåŒ¯ç‡ï¼š</span> 1 TWD â‰ˆ 4.8 JPY (è«‹ä»¥å¯¦éš›æ›åŒ¯ç‚ºæº–)</p>
           <p><span class="font-bold text-amber-500">ğŸ“ ç·Šæ€¥è¯çµ¡ï¼š</span></p>
           <ul class="ml-4 list-disc text-stone-400">
               <li>æ—¥æœ¬æ€¥æ•‘/æ¶ˆé˜²ï¼š<span class="text-red-400 font-bold">119</span></li>
               <li>æ—¥æœ¬å ±è­¦ï¼š<span class="text-red-400 font-bold">110</span></li>
               <li>å°åŒ—é§å¤§é˜ªç¶“æ¿Ÿæ–‡åŒ–è¾¦äº‹è™•ï¼š+81-6-6612-8750</li>
           </ul>

           <!-- é£¯åº—è³‡è¨Š -->
           <div class="pt-3 border-t border-stone-700">
               <p class="font-bold text-amber-500 mb-2">ğŸ¨ ä½å®¿è©³ç´°è³‡è¨Š</p>

               <!-- äº¬éƒ½é£¯åº— -->
               <p class="font-semibold text-fcd34d mt-2">ğŸ“ äº¬éƒ½ï¼šM's Hotel Kyoto Station South (10/16 - 10/18)</p>
               <ul class="ml-4 list-disc text-stone-400 space-y-0.5">
                   <li>åœ°å€ï¼šã€’601-8002 äº¬éƒ½åºœäº¬éƒ½å¸‚å—å€æ±ä¹æ¡æ±å±±ç‹ç”º19</li>
                   <li>é›»è©±ï¼š<span class="font-medium">+81-75-661-8000</span></li>
                   <li>Check-in: 15:00 / Check-out: 10:00</li>
               </ul>

               <!-- å¤§é˜ªé£¯åº— -->
               <p class="font-semibold text-fcd34d mt-2">ğŸ“ å¤§é˜ªï¼šThe Bridge Hotel Shinsaibashi (10/18 - 10/20)</p>
                <ul class="ml-4 list-disc text-stone-400 space-y-0.5">
                   <li>åœ°å€ï¼šã€’542-0083 å¤§é˜ªåºœå¤§é˜ªå¸‚ä¸­å¤®å€æ±å¿ƒé½‹æ©‹1ä¸ç›®11-19</li>
                   <li>é›»è©±ï¼š<span class="font-medium">+81-6-4963-3060</span></li>
                   <li>Check-in: 15:00 / Check-out: 11:00</li>
               </ul>
           </div>
       </div>
   </details>

   <!-- æ¯æ—¥è¡Œç¨‹ Tab å°èˆª -->
   <nav id="tab-navigation" class="flex justify-between sticky top-0 bg-stone-900 border-b border-stone-800 z-10 shadow-lg">
       <!-- Tab buttons will be dynamically generated here -->
   </nav>

   <!-- æ¯æ—¥è¡Œç¨‹å…§å®¹å€ -->
   <main id="itinerary-content" class="p-4">
       <!-- Content will be dynamically loaded here -->
   </main>
   
   <!-- æ™¯é»è©³æƒ…å½ˆçª— (Modal) -->
   <div id="spot-modal" class="hidden fixed inset-0 bg-black bg-opacity-80 z-50 flex items-center justify-center p-4" onclick="closeSpotModal()">
       <!-- Modal å…§å®¹å¡ç‰‡ä½¿ç”¨ Stone 900 èƒŒæ™¯ï¼Œä¸¦åŠ å…¥å‹•ç•« class -->
       <div class="modal-card bg-stone-900 rounded-2xl p-6 w-full max-w-sm shadow-2xl border border-fcd34d/70" onclick="event.stopPropagation()">
           <h3 id="modal-title" class="text-2xl font-extrabold text-fcd34d mb-2 border-b border-stone-700 pb-2"></h3>
           <p id="modal-desc" class="text-stone-300 mb-4"></p>
           <div id="modal-details" class="text-sm text-stone-400 space-y-2 mb-6 p-3 rounded-lg bg-stone-800/50"></div>
           
           <a id="modal-link" href="#" target="_blank" class="block w-full text-center py-3 rounded-xl bg-fcd34d text-stone-950 font-bold hover:bg-amber-400 transition transform hover:scale-[1.01] shadow-2xl">
               é–‹å•Ÿ Google åœ°åœ–å°èˆª ğŸ—ºï¸
           </a>
           <button onclick="closeSpotModal()" class="w-full mt-4 text-sm text-stone-400 py-1 hover:text-fcd34d transition">é—œé–‰è¦–çª—</button>
       </div>
   </div>

</div>

<script>
   // æ™¯é»ä»‹ç´¹èˆ‡é€£çµçš„è³‡æ–™åº« - è³‡è¨Šå·²åŠ å¼·
   const SPOT_DESCRIPTIONS = {
       "åµå±±æ¸¡æœˆæ©‹ã€ç«¹æ—å°å¾‘": {
           desc: "äº¬éƒ½æœ€å…·ä»£è¡¨æ€§çš„è‡ªç„¶æ™¯è§€ï¼Œåƒå¤©ç«¹æ—ç‡Ÿé€ å‡ºå¹½éœæ°›åœï¼Œç§‹å­£æ¥“è‘‰æ™‚æœ€ç¾ã€‚",
           details: "ğŸ“ æœ€è¿‘è»Šç«™ï¼šJRåµ¯å³¨åµå±±ç«™ (æ­¥è¡Œ10åˆ†)ã€‚\nâ° ç‡Ÿæ¥­æ™‚é–“ï¼šå…¨æ—¥é–‹æ”¾ (ç«¹æ—)ã€‚\nâ³ å»ºè­°åœç•™ï¼š1.5-2å°æ™‚ã€‚\nâœ¨ ç‰¹è‰²ï¼šå…è²»ã€å¯ç§Ÿå€Ÿå’Œæœæ¼«æ­¥ï¼Œæ™¯è‰²å®œäººã€‚",
           link: "https://maps.google.com/maps?q=%E5%B5%90%E5%B1%B1%E7%AB%B9%E6%9E%97%E5%B0%8F%E5%BE%91+%C2%B7+Kyoto%2C+Kyoto"
       },
       "æ¸…æ°´å¯ºåƒè§€+æ•£æ­¥ä¸‰å¹´å‚ï¼äºŒå¹´å‚": {
           desc: "ä¸–ç•Œéºç”¢ï¼Œä»¥ã€Œæ¸…æ°´ä¹‹èˆå°ã€èåï¼Œå¯é çœºäº¬éƒ½å¸‚å€ã€‚æ˜¯è³¼è²·ä¼´æ‰‹ç¦®çš„å¥½å»è™•ã€‚",
           details: "ğŸ“ æœ€è¿‘è»Šç«™ï¼šå¸‚å·´å£«ã€Œäº”æ¡å‚ã€ç«™ (æ­¥è¡Œ10åˆ†)ã€‚\nâ° ç‡Ÿæ¥­æ™‚é–“ï¼š06:00 - 18:00ã€‚\nâ³ å»ºè­°åœç•™ï¼š2-3å°æ™‚ (å«äºŒå¹´å‚/ä¸‰å¹´å‚)ã€‚\nğŸ’° é–€ç¥¨ï¼šÂ¥500ã€‚æç¤ºï¼šå»ºè­°æ—©ä¸Šå‰å¾€é¿é–‹äººæ½®ã€‚",
           link: "https://maps.google.com/maps?q=%E6%B8%85%E6%B0%B4%E5%AF%BA+%C2%B7+Kyoto%2C+Kyoto"
       },
       "å…«å‚ç¥ç¤¾ï¼†èŠ±è¦‹å°è·¯èµ°èµ°": {
           desc: "äº¬éƒ½ç¥‡åœ’åœ°å€çš„å®ˆè­·ç¥ï¼Œæ™šä¸Šé»ç‡ˆå¾Œæ°›åœæ¥µä½³ï¼Œæ„Ÿå—å¤éƒ½å¤œè‰²ã€‚",
           details: "ğŸ“ æœ€è¿‘è»Šç«™ï¼šäº¬é˜ªç¥‡åœ’å››æ¡ç«™ã€‚\nâ° ç‡Ÿæ¥­æ™‚é–“ï¼šå…¨æ—¥é–‹æ”¾ã€‚\nâ³ å»ºè­°åœç•™ï¼š1å°æ™‚ã€‚\nâœ¨ ç‰¹è‰²ï¼šå¤œé–“æ™¯è‰²ç¾éº—ï¼ŒèŠ±è¦‹å°è·¯æ˜¯è—å¦“å¯èƒ½å‡ºæ²’çš„åœ°æ–¹ã€‚",
           link: "https://maps.google.com/maps?q=%E5%85%AB%E5%9D%82%E7%A5%9E%E7%A4%BE%E6%9C%AC%E6%AE%BF+%C2%B7+Kyoto%2C+Kyoto"
       },
       "å¹³å®‰ç¥å®®æœ¬æ®¿å€åŸŸ": {
           desc: "å®å‰çš„æœ±ç´…è‰²å»ºç¯‰å’Œæ—¥æœ¬æœ€å¤§çš„é³¥å±…ä¹‹ä¸€ï¼Œå……æ»¿æ­·å²æ„Ÿã€‚",
           details: "ğŸ“ æœ€è¿‘è»Šç«™ï¼šåœ°éµæ±è¥¿ç·šæ±å±±ç«™ã€‚\nâ° ç‡Ÿæ¥­æ™‚é–“ï¼š06:00 - 17:00 (ä¾å­£ç¯€è®Šå‹•)ã€‚\nâ³ å»ºè­°åœç•™ï¼š1å°æ™‚ã€‚\nğŸ’° è²»ç”¨ï¼šæœ¬æ®¿å…è²»ï¼Œç¥è‹‘ï¼ˆæ—¥å¼åº­åœ’ï¼‰éœ€å¦è³¼ç¥¨ã€‚",
           link: "https://maps.google.com/maps?q=%E5%B9%B3%E5%AE%89%E7%A5%9E%E5%AE%AE+%C2%B7+Kyoto%2C+Kyoto"
       },
       "ä¼è¦‹ç¨»è·å¤§ç¤¾åƒæ‹œï¼ˆåƒæœ¬é³¥å±…ï¼‰": {
           desc: "ä»¥ç¶¿å»¶å±±é ­çš„ã€Œåƒæœ¬é³¥å±…ã€èåï¼Œæ˜¯ç¥ˆæ±‚ç”Ÿæ„èˆˆéš†çš„å…è²»æ™¯é»ã€‚",
           details: "ğŸ“ æœ€è¿‘è»Šç«™ï¼šJRç¨»è·ç«™ã€‚\nâ° ç‡Ÿæ¥­æ™‚é–“ï¼šå…¨æ—¥é–‹æ”¾ã€‚\nâ³ å»ºè­°åœç•™ï¼š1-2å°æ™‚ (èµ°å®Œä¸€åœˆç´„éœ€2å°æ™‚)ã€‚\nâœ¨ ç‰¹è‰²ï¼šå…è²»ã€24å°æ™‚é–‹æ”¾ã€‚æ‹ç…§å»ºè­°æ—©ä¸Šæˆ–å‚æ™šï¼Œå…‰ç·šè¼ƒä½³ã€‚",
           link: "https://maps.google.com/maps?q=%E4%BC%8F%E8%A6%8B%E7%A8%B2%E8%8D%B7%E5%A4%A7%E7%A4%BE+%C2%B7+Kyoto%2C+Kyoto"
       },
       "HEP FIVE æ‘©å¤©è¼ª": {
           desc: "ğŸš¨ ç¶­ä¿®è­¦ç¤ºï¼šæ‚¨çš„è¡Œç¨‹è¨»æ˜æ­¤è™•ç¶­ä¿®ã€‚å»ºè­°æ”¹ç‚ºæ¢…ç”°è—å¤©å¤§å»ˆç©ºä¸­åº­åœ’ç­‰æ›¿ä»£æ™¯é»ã€‚",
           details: "ğŸ“ æœ€è¿‘è»Šç«™ï¼šé˜ªæ€¥æ¢…ç”°ç«™ã€‚\nâ° ç‡Ÿæ¥­æ™‚é–“ï¼šé€šå¸¸ 11:00 - 22:45ã€‚\nâœ¨ æ›¿ä»£å»ºè­°ï¼šæ¢…ç”°è—å¤©å¤§å»ˆç©ºä¸­åº­åœ’ (å‘¨éŠåˆ¸å¯ç”¨)ã€‚",
           link: "" // ä¸æä¾›é€£çµï¼Œå¼·èª¿ç¶­ä¿®
       },
       "é“é “å €ï¼†å¿ƒé½‹æ©‹è‡ªç”±æ´»å‹•": {
           desc: "å¤§é˜ªæœ€ç†±é¬§çš„å€åŸŸä¹‹ä¸€ï¼Œå……æ»¿äº†ç¾é£Ÿã€è³¼ç‰©å’Œå¨›æ¨‚ã€‚å¿…æ‹æ ¼åŠ›é«˜æ‹›ç‰Œã€‚",
           details: "ğŸ“ æœ€è¿‘è»Šç«™ï¼šåœ°éµå¿ƒé½‹æ©‹ç«™/é›£æ³¢ç«™ã€‚\nâ° ç‡Ÿæ¥­æ™‚é–“ï¼šåº—å®¶å„ç•°ï¼Œå¤šæ•¸è‡³ 22:00ã€‚\nâ³ å»ºè­°åœç•™ï¼š3å°æ™‚ä»¥ä¸Šã€‚\nâœ¨ ç‰¹è‰²ï¼šå¿ƒé½‹æ©‹ PARCOã€è—¥å¦åº—è³¼ç‰©ã€ç¾é£Ÿé›†ä¸­åœ°ã€‚",
           link: "https://maps.google.com/maps?q=%E5%BF%83%E6%96%8E%E6%A9%8BPARCO+%C2%B7+Osaka%2C+Osaka"
       },
       "åƒè§€å¤§é˜ªåŸï¼†å¾¡åº§èˆ¹ï¼‹åšç‰©é¤¨": {
           desc: "æ—¥æœ¬ä¸‰å¤§ååŸä¹‹ä¸€ï¼Œæ˜¯å¤§é˜ªæ­·å²çš„è±¡å¾µã€‚åŒ…å«å¾¡åº§èˆ¹é«”é©—åŠåšç‰©é¤¨åƒè§€ã€‚",
           details: "ğŸ“ æœ€è¿‘è»Šç«™ï¼šJRæ£®ä¹‹å®®ç«™ã€‚\nâ° ç‡Ÿæ¥­æ™‚é–“ï¼š09:00 - 17:00 (å¤©å®ˆé–£)ã€‚\nâ³ å»ºè­°åœç•™ï¼š2.5å°æ™‚ã€‚\nğŸ’° è²»ç”¨ï¼šå¤©å®ˆé–£Â¥600ï¼Œå¾¡åº§èˆ¹Â¥1500 (å‘¨éŠåˆ¸å¯ç”¨)ã€‚",
           link: "https://maps.google.com/maps?q=%E5%A4%A7%E9%98%AA%E5%9F%8E+%C2%B7+Osaka%2C+Osaka"
       },
       "å¤§é˜ªå¤©æ»¿å®®åƒæ‹œ": {
           desc: "ä¸»ç¥€å­¸å•ä¹‹ç¥ï¼Œæ˜¯ç•¶åœ°äººç¥ˆæ±‚å­¸æ¥­å’Œè€ƒè©¦é †åˆ©çš„é‡è¦ç¥ç¤¾ã€‚",
           details: "ğŸ“ æœ€è¿‘è»Šç«™ï¼šJRå¤§é˜ªå¤©æ»¿å®®ç«™ã€‚\nâ° ç‡Ÿæ¥­æ™‚é–“ï¼š09:00 - 17:00ã€‚\nâ³ å»ºè­°åœç•™ï¼š0.5-1å°æ™‚ã€‚\nâœ¨ é„°è¿‘ï¼šå¤©ç¥æ©‹ç­‹å•†åº—è¡—ï¼Œé©åˆé€›è¡—è³¼ç‰©ã€‚",
           link: "https://maps.google.com/maps?q=%E5%A4%A7%E9%98%AA%E5%A4%A9%E6%BB%85%E5%AE%AE+%C2%B7+Osaka%2C+Osaka"
       },
       "å¤§é˜ªç”Ÿæ´»ä»Šæ˜”é¤¨ï¼ˆç©¿è¶Šæ±Ÿæˆ¶æ™‚ä»£è¡—æ™¯ï¼Œå¯é«”é©—å’Œæœï¼‰": {
           desc: "é‡ç¾æ±Ÿæˆ¶æ™‚ä»£è¡—æ™¯ï¼Œå¯ä»˜è²»é«”é©—å’Œæœï¼Œæ˜¯äº†è§£å¤§é˜ªåº¶æ°‘ç”Ÿæ´»çš„ç¨ç‰¹åšç‰©é¤¨ã€‚",
           details: "ğŸ“ æœ€è¿‘è»Šç«™ï¼šåœ°éµå¤©ç¥æ©‹ç­‹å…­ä¸ç›®ç«™ã€‚\nâ° ç‡Ÿæ¥­æ™‚é–“ï¼š10:00 - 17:00 (é€±äºŒä¼‘é¤¨)ã€‚\nâ³ å»ºè­°åœç•™ï¼š1.5å°æ™‚ã€‚\nğŸ’° è²»ç”¨ï¼šÂ¥600 (å‘¨éŠåˆ¸å…è²»)ã€‚ç‰¹è‰²ï¼šå®¤å…§æ™¯é»ï¼Œä¸å—å¤©æ°£å½±éŸ¿ã€‚",
           link: "https://maps.google.com/maps?q=%E5%A4%A7%E9%98%AA%E7%94%9F%E6%B4%BB%E4%BB%8A%E6%98%94%E9%A4%A8+%C2%B7+Osaka%2C+Osaka"
       },
       "é»‘é–€å¸‚å ´æ•£ç­–ï¼Œåšé®®æµ·é®®/å’Œç‰›ä¸²/æ°´æœå¤§ç¦": {
           desc: "æœ‰ã€Œå¤§é˜ªå»šæˆ¿ã€ä¹‹ç¨±ï¼Œæ˜¯å“åšç¾åšæ–°é®®æµ·é®®ã€å’Œç‰›ä¸²å’Œå­£ç¯€æ°´æœçš„å¤©å ‚ã€‚",
           details: "ğŸ“ æœ€è¿‘è»Šç«™ï¼šåœ°éµæ—¥æœ¬æ©‹ç«™ã€‚\nâ° ç‡Ÿæ¥­æ™‚é–“ï¼šå¤šæ•¸åº—å®¶ 09:00 - 18:00ã€‚\nâ³ å»ºè­°åœç•™ï¼š1.5-2å°æ™‚ã€‚\nâœ¨ æç¤ºï¼šå»ºè­°åˆé¤æ™‚æ®µå‰å¾€ï¼Œåº—å®¶è¼ƒé½Šå…¨ã€‚",
           link: "https://maps.google.com/maps?q=%E9%BB%91%E9%96%80%E5%B8%82%E5%A0%B4+%C2%B7+Osaka%2C+Osaka"
       },
       "åƒæ‹œå¤§é³¥å¤§ç¤¾": {
           desc: "ä½æ–¼å¤§é˜ªåºœå ºå¸‚ï¼Œä¾›å¥‰æ—¥æœ¬æ­¦å°Šã€‚æ˜¯å‘Šåˆ¥ä¹‹æ—…çš„æœ€å¾Œä¸€ç«™ï¼Œç¥ˆæ±‚æ—…é€”å¹³å®‰ã€‚",
           details: "ğŸ“ æœ€è¿‘è»Šç«™ï¼šJRé˜ªå’Œç·šè‡³é³³ç«™ï¼Œè½‰ä¹˜å—æµ·å·´å£«ã€‚\nâ° ç‡Ÿæ¥­æ™‚é–“ï¼š09:00 - 17:00ã€‚\nâ³ å»ºè­°åœç•™ï¼š1å°æ™‚ã€‚\nâœ¨ ç‰¹è‰²ï¼šç’°å¢ƒæ¸…å¹½ï¼Œé©åˆæ—…é€”çµæŸå‰æ²‰æ¾±å¿ƒæƒ…ã€‚",
           link: "https://maps.google.com/maps?q=%E5%A4%A7%E9%B3%A5%E5%A4%A7%E7%A4%BE+%C2%B7+Sakai%2C+Osaka"
       }
   };

   // è¡Œç¨‹è³‡æ–™åº« (Data Model)
   const itineraryData = [
       {
           id: 'day1', day: 1, date: "10/16 (å››)", title: "äº¬éƒ½åˆå°è±¡ï¼šåµå±±ï¼‹æœˆç‡ˆè·¯", theme: "è‡ªç„¶ãƒ»ç§»å‹•",
           schedule: [
               { time: "05:30", desc: "ç«¹åŒ— >> æ¡ƒæ©Ÿ 2 èˆªå»ˆ", icon: "ğŸš—", detail: "ç§äººæ¥é€" },
               { time: "09:00", desc: "æ¡ƒåœ’æ©Ÿå ´å‡ºç™¼", icon: "âœˆï¸", detail: "ä¸­è¯èˆªç©º CI0152" },
               { time: "13:00", desc: "æŠµé”é—œè¥¿æ©Ÿå ´", icon: "ğŸ›¬", detail: "é è¨ˆ 12:50 æŠµé”" },
               { time: "14:00", desc: "æ­ JR Haruka ç‰¹æ€¥ â†’ äº¬éƒ½è»Šç«™", icon: "ğŸš…", detail: "è»Šç¨‹ç´„ 70-80 åˆ†é˜ (ICOCA/Harukaå¥—ç¥¨)" },
               { time: "15:30", desc: "å…¥ä½ Hotel The Mâ€™s Kyoto", icon: "ğŸ¨", detail: "Check-in: 15:00 / é£¯åº—é›»è©±: +81-75-661-8000" },
               { time: "16:10", desc: "åµå±±æ¸¡æœˆæ©‹ã€ç«¹æ—å°å¾‘", icon: "ğŸƒ", detail: "å…è²»åƒè§€ï¼Œæ„Ÿå—äº¬éƒ½çš„è‡ªç„¶ç¾", isSpot: true },
               { time: "18:00", desc: "åƒåŠ åµå±±æœˆç‡ˆè·¯", icon: "ğŸŒ™", detail: "å­£ç¯€æ€§é»ç‡ˆæ´»å‹• (è«‹æ³¨æ„èˆ‰è¾¦æ—¥æœŸ)", spotName: "åµå±±æ¸¡æœˆæ©‹ã€ç«¹æ—å°å¾‘", isSpot: true },
               { time: "19:30", desc: "æ™šé¤æˆ–å›é£¯åº—ä¼‘æ¯", icon: "ğŸœ", detail: "æ»¾å‹•å¼èª¿æ•´ï¼Œå¯é¸æ“‡è»Šç«™å‘¨é‚Šç¾é£Ÿ" },
           ],
       },
       {
           id: 'day2', day: 2, date: "10/17 (äº”)", title: "å¤éƒ½é¢¨æƒ…ï¼šæ¸…æ°´å¯ºï¼‹å…«å‚ç¥ç¤¾ï¼‹éŒ¦å¸‚å ´", theme: "æ–‡åŒ–ãƒ»ç¾é£Ÿ",
           schedule: [
               { time: "08:30", desc: "å‡ºç™¼ â†’ å¸‚å·´å£«è‡³äº”æ¡å‚", icon: "ğŸšŒ", detail: "æ­ä¹˜å¸‚å€å·´å£«ï¼Œæº–å‚™é–‹å§‹å¤è¹Ÿå·¡ç¦®" },
               { time: "09:30", desc: "æ¸…æ°´å¯ºåƒè§€+æ•£æ­¥ä¸‰å¹´å‚ï¼äºŒå¹´å‚", icon: "ğŸ¯", detail: "é–€ç¥¨Â¥500ï¼Œå¯çœºæœ›äº¬éƒ½å¸‚å€", isSpot: true },
               { time: "11:40", desc: "å…«å‚ç¥ç¤¾ï¼†èŠ±è¦‹å°è·¯èµ°èµ°", icon: "â›©ï¸", detail: "æ™¯é»å…è²»ï¼Œå¯è³¼è²·å¾¡å®ˆ", isSpot: true },
               { time: "13:25", desc: "éŒ¦å¸‚å ´åˆé¤ï¼‹é€›è¡—", icon: "ğŸ›ï¸", detail: "äº¬éƒ½çš„å»šæˆ¿ï¼Œå“åšå„ç¨®åœ¨åœ°å°åƒ" },
               { time: "15:00", desc: "å››æ¡æ²³åŸç”ºè‡ªç”±æ´»å‹• (æˆ–å»å¹³å®‰ç¥å®®æœ¬æ®¿å€åŸŸå…è²»)", icon: "ğŸ™ï¸", detail: "ç™¾è²¨å…¬å¸è³¼ç‰©æˆ–åƒè§€", isSpot: true, spotName: "å¹³å®‰ç¥å®®æœ¬æ®¿å€åŸŸ" },
               { time: "18:30", desc: "å£½å–œç‡’ä¸‰æ¢æ²³åŸç”ºåº—", icon: "ğŸ¥©", detail: "æ™šé¤é è¨‚ï¼Œå¤§å¿«æœµé ¤" },
               { time: "å‚æ™š", desc: "å›é£¯åº—ä¼‘æ¯", icon: "ğŸ›Œ", detail: "" },
           ],
       },
       {
           id: 'day3', day: 3, date: "10/18 (å…­)", title: "ä¼è¦‹ç¨»è·ï¼‹å¤§é˜ªæ‘©å¤©è¼ªï¼‹å…¥ä½", theme: "ç§»å‹•ãƒ»é³¥å±…",
           schedule: [
               { time: "08:30", desc: "å‡ºç™¼ â†’ ä¼è¦‹ç¨»è·å¤§ç¤¾åƒæ‹œï¼ˆåƒæœ¬é³¥å±…ï¼‰", icon: "â›©ï¸", detail: "æ™¯é»å…è²»ï¼Œå»ºè­°ç©¿è‘—èˆ’é©é‹å­", isSpot: true },
               { time: "11:00", desc: "åˆé¤ â†’ å›äº¬éƒ½é£¯åº—å–è¡Œæ", icon: "ğŸ´", detail: "M's Hotel Check-out: 10:00" },
               { time: "14:20", desc: "æ­ JR æ–°å¿«é€Ÿ â†’ å¤§é˜ªæ¢…ç”°", icon: "ğŸš…", detail: "è·¨åŸå¸‚ç§»å‹•ï¼Œè»Šç¨‹ç´„ 30 åˆ†é˜" },
               { time: "15:30", desc: "æŠµé”æ¢…ç”° â†’ HEP FIVE æ‘©å¤©è¼ª", icon: "ğŸ¡", detail: "ğŸš¨ **æ³¨æ„ï¼šè¡Œç¨‹è¨»æ˜ç¶­ä¿®ä¸­**ï¼Œå»ºè­°æ›¿ä»£æ–¹æ¡ˆ", isSpot: true },
               { time: "17:00", desc: "å‰å¾€é£¯åº— â†’ å…¥ä½ The Bridge Hotel Shinsaibashi", icon: "ğŸ¨", detail: "Check-in: 15:00 / é£¯åº—é›»è©±: +81-6-4963-3060" },
               { time: "18:30", desc: "é“é “å €ï¼†å¿ƒé½‹æ©‹è‡ªç”±æ´»å‹•", icon: "ğŸ", detail: "å¤œé–“è³¼ç‰©èˆ‡ç¾é£Ÿï¼Œå¿…æ‹æ ¼åŠ›é«˜æ‹›ç‰Œ", isSpot: true },
           ],
       },
       {
           id: 'day4', day: 4, date: "10/19 (æ—¥)", title: "å¤§é˜ªæ·±åº¦ï¼šå¤§é˜ªåŸï¼‹å¤©æ»¿å®®ï¼‹ä»Šæ˜”é¤¨ï¼‹é»‘é–€å¸‚å ´", theme: "æ­·å²ãƒ»åº¶æ°‘",
           schedule: [
               { time: "08:30", desc: "åœ°éµè‡³å¤§é˜ªå•†å‹™åœ’å€", icon: "ğŸš‡", detail: "é–‹å§‹ä½¿ç”¨å¤§é˜ªå‘¨éŠåˆ¸" },
               { time: "09:00", desc: "åƒè§€å¤§é˜ªåŸï¼†å¾¡åº§èˆ¹ï¼‹åšç‰©é¤¨", icon: "ğŸ¯", detail: "ç´„ 2.5 å°æ™‚ï¼Œå‘¨éŠåˆ¸å¯ç”¨", isSpot: true },
               { time: "12:00", desc: "å¤§é˜ªå¤©æ»¿å®®åƒæ‹œ", icon: "â›©ï¸", detail: "å…è²»åƒè§€ï¼Œç¥ˆæ±‚å­¸æ¥­é †åˆ©", isSpot: true },
               { time: "12:30", desc: "å¤©ç¥æ©‹ç­‹å•†åº—è¡—åˆé¤", icon: "ğŸœ", detail: "æ—¥æœ¬æœ€é•·å•†åº—è¡—ï¼Œé‚Šèµ°é‚Šåƒ" },
               { time: "13:30", desc: "å¤§é˜ªç”Ÿæ´»ä»Šæ˜”é¤¨ï¼ˆç©¿è¶Šæ±Ÿæˆ¶æ™‚ä»£è¡—æ™¯ï¼Œå¯é«”é©—å’Œæœï¼‰", icon: "ğŸ˜ï¸", detail: "å‘¨éŠåˆ¸å¯ç”¨ï¼Œå®¤å…§æ™¯é»", isSpot: true },
               { time: "15:30", desc: "é»‘é–€å¸‚å ´æ•£ç­–ï¼Œåšé®®æµ·é®®/å’Œç‰›ä¸²/æ°´æœå¤§ç¦", icon: "ğŸŸ", detail: "å¤§é˜ªç¾é£Ÿå»šæˆ¿ï¼Œç›¡æƒ…äº«ç”¨", isSpot: true },
               { time: "17:00", desc: "å›å¿ƒé½‹æ©‹ï¼é“é “å €è‡ªç”±é€›è¡—", icon: "ğŸ›ï¸", detail: "è£œè¶³ä¼´æ‰‹ç¦®æˆ–è—¥å¦" },
               { time: "20:00", desc: "ç‡’è‚‰åŠ›ä¸¸é›£æ³¢é“é “å €åº—", icon: "ğŸ¥©", detail: "æ™šé¤é è¨‚ï¼Œäº«å—åƒåˆ°é£½" },
           ],
       },
       {
           id: 'day5', day: 5, date: "10/20 (ä¸€)", title: "å¤§é³¥å¤§ç¤¾åƒæ‹œï¼‹è¿”å°", theme: "è¿”ç¨‹ãƒ»åƒæ‹œ",
           schedule: [
               { time: "08:30", desc: "åœ°éµè‡³å¤©ç‹å¯º â†’ JRè‡³é³³ç«™", icon: "ğŸš‡", detail: "å‰å¾€å¤§é˜ªéƒŠå€é€²è¡Œå‘Šåˆ¥åƒæ‹œ" },
               { time: "09:20", desc: "åƒæ‹œå¤§é³¥å¤§ç¤¾", icon: "â›©ï¸", detail: "å…è²»åƒè§€ï¼Œæ„Ÿè¬æ—…é€”å¹³å®‰", isSpot: true },
               { time: "10:00", desc: "JRï¼å—æµ·é›»éµ â†’ é—œè¥¿æ©Ÿå ´", icon: "ğŸš…", detail: "é ç•™å……è¶³æ™‚é–“å‰å¾€ KIX" },
               { time: "11:00", desc: "å ±åˆ°ï¼é€€ç¨…ï¼åˆé¤æº–å‚™", icon: "ğŸ›„", detail: "Bridge Hotel Check-out: 11:00 / æ©Ÿå ´æ‰‹çºŒåŠæœ€å¾Œçš„è³¼ç‰©æ™‚é–“" },
               { time: "14:00", desc: "æ­æ©Ÿè¿”å°", icon: "ğŸ›¬", detail: "ä¸­è¯èˆªç©º CI0153ï¼ŒæœŸå¾…ä¸‹æ¬¡æ—…ç¨‹ï¼" },
           ],
       }
   ];

   const tabNavigation = document.getElementById('tab-navigation');
   const itineraryContent = document.getElementById('itinerary-content');
   const spotModal = document.getElementById('spot-modal');
   const modalTitle = document.getElementById('modal-title');
   const modalDesc = document.getElementById('modal-desc');
   const modalDetails = document.getElementById('modal-details');
   const modalLink = document.getElementById('modal-link');

   // 1. æ¸²æŸ“å°èˆª Tab æŒ‰éˆ•
   itineraryData.forEach(item => {
       const button = document.createElement('button');
       button.className = 'tab-button flex-1 py-3 text-sm focus:outline-none';
       button.textContent = `Day ${item.day}`;
       button.dataset.day = item.id;
       button.onclick = () => switchTab(item.id);
       tabNavigation.appendChild(button);
   });

   // 2. æ¸²æŸ“å–®æ—¥è¡Œç¨‹å…§å®¹
   function renderDayContent(dayId) {
       const data = itineraryData.find(d => d.id === dayId);
       if (!data) return;

       let contentHTML = `
           <!-- è¡Œç¨‹æ¨™é¡Œå¡ç‰‡ -->
           <div class="day-header mb-4 p-4 bg-stone-950 rounded-xl shadow-2xl border border-fcd34d/20 transition transform hover:scale-[1.01]">
               <h2 class="text-xl font-bold text-fcd34d">${data.title}</h2>
               <p class="text-sm text-stone-400 mt-1">${data.date} | ä¸»é¡Œï¼š${data.theme}</p>
           </div>
           <h3 class="text-lg font-bold text-stone-200 mb-4 border-b border-stone-700 pb-1">ğŸ•’ æ¯æ—¥è¡Œç¨‹æ™‚é–“è»¸</h3>
           <div class="space-y-4 mb-8">
       `;

       // è¡Œç¨‹æ™‚é–“è¡¨
       data.schedule.forEach(item => {
           const isSpot = item.isSpot;
           const spotKey = item.spotName || item.desc;
           
           let descContent = item.desc;
           let detailClass = 'text-stone-400';
           let iconBgClass = 'bg-fcd34d/80 text-stone-950';

           if (isSpot) {
               // å¦‚æœæ˜¯æ™¯é»ï¼Œå°‡æè¿°åŒ…è£ç‚ºå¯é»æ“Šå…ƒç´ 
               descContent = `<span class="spot-clickable" onclick="showSpotModal('${spotKey}')">${item.desc}</span>`;
               iconBgClass = 'bg-amber-500 text-black shadow-md'; // æ™¯é»ä½¿ç”¨æ›´äº®çš„åœ–æ¨™
               if (item.detail.includes("ç¶­ä¿®ä¸­")) {
                   detailClass = 'text-red-400 font-bold'; // ç‰¹åˆ¥æ¨™è¨˜ç¶­ä¿®
                   iconBgClass = 'bg-red-600/70 text-white shadow-md';
               }
           }
           
           contentHTML += `
               <div class="flex items-start space-x-3">
                   <div class="w-12 pt-1 flex-shrink-0">
                       <span class="text-sm font-semibold text-stone-300">${item.time}</span>
                   </div>
                   <div class="flex-shrink-0 mt-1">
                       <!-- åœ–æ¨™ä½¿ç”¨å‹•æ…‹èƒŒæ™¯ -->
                       <div class="w-7 h-7 flex items-center justify-center rounded-full ${iconBgClass} font-bold text-base transition-colors duration-300">${item.icon}</div>
                   </div>
                   <!-- æ™‚é–“è»¸ç·šæ¢ (timeline-line class) -->
                   <div class="flex-1 timeline-line pl-4 py-0.5">
                       <p class="font-medium text-stone-200">${descContent}</p>
                       <p class="text-xs ${detailClass}">${item.detail}</p>
                   </div>
               </div>
           `;
       });
       contentHTML += `</div>`;
       itineraryContent.innerHTML = contentHTML;
   }

   // 3. é¡¯ç¤ºæ™¯é»å½ˆçª—
   function showSpotModal(spotName) {
       const spotData = SPOT_DESCRIPTIONS[spotName];

       // Helper function to format details
       const formatDetails = (details) => {
           if (!details) return '';
           // ä½¿ç”¨ Emoji æ›¿æ›æ–‡å­—æ¨™ç±¤ï¼Œè®“ç´°ç¯€æ›´ç”Ÿå‹•
           const lines = details
               .replace(/ğŸ“/g, '<span class="text-amber-400">ğŸ“</span>')
               .replace(/â°/g, '<span class="text-amber-400">â°</span>')
               .replace(/â³/g, '<span class="text-amber-400">â³</span>')
               .replace(/ğŸ’°/g, '<span class="text-amber-400">ğŸ’°</span>')
               .replace(/âœ¨/g, '<span class="text-amber-400">âœ¨</span>')
               .split('\n');
               
           return lines.map(line => `<p class="border-b border-stone-700 pb-2">${line}</p>`).join('');
       };

       if (!spotData) {
           modalTitle.textContent = spotName;
           modalDesc.textContent = "æ­¤é …ç›®ç‚ºè¡Œç¨‹å®‰æ’ï¼Œç„¡è©³ç´°æ™¯é»ä»‹ç´¹ã€‚";
           modalDetails.innerHTML = '';
           modalLink.classList.add('hidden');
       } else {
           modalTitle.textContent = spotName.split('ï¼ˆ')[0].split('+')[0].trim();
           modalDesc.textContent = spotData.desc;
           modalDetails.innerHTML = formatDetails(spotData.details);
           
           modalLink.href = spotData.link || '#';
           if (spotData.link) {
               modalLink.classList.remove('hidden');
           } else {
               modalLink.classList.add('hidden');
           }
       }
       spotModal.classList.remove('hidden');
   }

   // 4. é—œé–‰æ™¯é»å½ˆçª—
   function closeSpotModal() {
       spotModal.classList.add('hidden');
   }

   // 5. åˆ‡æ› Tab é‚è¼¯
   function switchTab(dayId) {
       document.querySelectorAll('.tab-button').forEach(btn => {
           btn.classList.remove('active');
       });
       const activeBtn = document.querySelector(`.tab-button[data-day="${dayId}"]`);
       if (activeBtn) {
           activeBtn.classList.add('active');
       }
       renderDayContent(dayId);
   }

   // 6. æ‡‰ç”¨ç¨‹å¼å•Ÿå‹•ï¼šé è¨­é¡¯ç¤º Day 1
   document.addEventListener('DOMContentLoaded', () => {
       if (itineraryData.length > 0) {
           switchTab(itineraryData[0].id);
       }
   });

   // ç‚ºäº†è®“ showSpotModal åœ¨å…¨åŸŸå¯ç”¨ï¼Œé€™è£¡å°‡å®ƒé™„åœ¨ window ä¸Š
   window.showSpotModal = showSpotModal;
   window.closeSpotModal = closeSpotModal;

</script>

</body>
</html>