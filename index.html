<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>京都・大阪 5天4夜自由行</title>
    <meta name="description" content="5-Day Kyoto & Osaka Family Trip Itinerary">
    <meta name="theme-color" content="#ffffff">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Babel Standalone -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
      body {
        font-family: 'Noto Sans TC', sans-serif;
        background-color: #f8fafc;
        -webkit-tap-highlight-color: transparent;
        overscroll-behavior-y: none; /* Prevent pull-to-refresh on mobile */
      }
      /* Hide scrollbar for Chrome, Safari and Opera */
      .no-scrollbar::-webkit-scrollbar {
          display: none;
      }
      /* Hide scrollbar for IE, Edge and Firefox */
      .no-scrollbar {
          -ms-overflow-style: none;  /* IE and Edge */
          scrollbar-width: none;  /* Firefox */
      }
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      .animate-fadeIn {
        animation: fadeIn 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
      }
      .safe-bottom {
        padding-bottom: env(safe-area-inset-bottom, 20px);
      }
    </style>
    
    <!-- Import Map -->
    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.2.0",
    "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
    "lucide-react": "https://esm.sh/lucide-react@0.292.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react/": "https://aistudiocdn.com/react@^19.2.0/"
  }
}
</script>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
      import React, { useState, useEffect, useRef } from 'react';
      import { createRoot } from 'react-dom/client';
      import { 
        MapPin, Clock, Info, X, Ticket, FileText, 
        Plane, Train, BedDouble, Camera, Utensils, ShoppingBag, 
        Calendar, Building, ChevronDown, ChevronUp, Map, AlertTriangle,
        ExternalLink, Home
      } from 'lucide-react';

      // --- Constants & Data ---

      const ActivityType = {
        FLIGHT: 'FLIGHT',
        HOTEL: 'HOTEL',
        TRANSPORT: 'TRANSPORT',
        ATTRACTION: 'ATTRACTION',
        FOOD: 'FOOD',
        SHOPPING: 'SHOPPING',
        OTHER: 'OTHER'
      };

      const TRIP_DATA = {
        flights: {
          outbound: {
            airline: '中華航空',
            flightNumber: 'CI0152',
            departureTime: '09:00',
            arrivalTime: '12:50',
            departureAirport: 'TPE (桃園)',
            arrivalAirport: 'KIX (關西)',
          },
          inbound: {
            airline: '中華航空',
            flightNumber: 'CI0153',
            departureTime: '14:00',
            arrivalTime: '15:55',
            departureAirport: 'KIX (關西)',
            arrivalAirport: 'TPE (桃園)',
          },
        },
        hotels: {
          kyoto: "Hotel The M’s Kyoto",
          osaka: "The Bridge Hotel Shinsaibashi",
        },
        itinerary: [
          {
            day: 1,
            date: '10/16 (四)',
            title: '京都初印象：嵐山＋月燈路',
            activities: [
              {
                time: '05:30',
                title: '前往桃園機場',
                description: '竹北出發前往桃機2航廈。',
                price: '現金1500',
                type: ActivityType.TRANSPORT,
                location: '桃園國際機場第二航廈'
              },
              {
                time: '09:00',
                title: '飛往日本',
                description: '中華航空 CI0152',
                type: ActivityType.FLIGHT,
              },
              {
                time: '13:00',
                title: '抵達關西機場',
                description: '入境手續、領取行李。',
                type: ActivityType.OTHER,
                location: 'Kansai International Airport'
              },
              {
                time: '14:00',
                title: '前往京都',
                description: '搭乘 JR Haruka 特急列車前往京都車站。',
                type: ActivityType.TRANSPORT,
                location: 'Kyoto Station'
              },
              {
                time: '15:30',
                title: '飯店 Check-in',
                description: '入住 Hotel The M’s Kyoto。',
                type: ActivityType.HOTEL,
                location: "Hotel The M's Kyoto"
              },
              {
                time: '16:10',
                title: '嵐山渡月橋、竹林小徑',
                description: '嵐山地標與竹林小徑漫步。',
                type: ActivityType.ATTRACTION,
                location: 'Arashiyama Bamboo Grove',
                price: '免費'
              },
              {
                time: '18:00',
                title: '嵐山月燈路',
                description: '參加嵐山月燈路，欣賞夜間點燈。',
                type: ActivityType.ATTRACTION,
                location: 'Arashiyama Park'
              },
              {
                time: '19:30',
                title: '晚餐 / 休息',
                description: '晚餐或直接回飯店休息。',
                type: ActivityType.FOOD
              }
            ]
          },
          {
            day: 2,
            date: '10/17 (五)',
            title: '古都風情：清水寺＋八坂神社',
            activities: [
              {
                time: '08:30',
                title: '出發',
                description: '搭乘市巴士至五条坂。',
                type: ActivityType.TRANSPORT
              },
              {
                time: '09:30',
                title: '清水寺參觀',
                description: '參觀清水寺，散步三年坂、二年坂。',
                price: '門票 ¥500',
                type: ActivityType.ATTRACTION,
                location: 'Kiyomizu-dera'
              },
              {
                time: '11:40',
                title: '八坂神社 & 花見小路',
                description: '走訪八坂神社與花見小路。',
                price: '免費',
                type: ActivityType.ATTRACTION,
                location: 'Yasaka Shrine'
              },
              {
                time: '13:25',
                title: '錦市場',
                description: '午餐與逛街。',
                type: ActivityType.FOOD,
                location: 'Nishiki Market'
              },
              {
                time: '15:00',
                title: '四条河原町 / 平安神宮',
                description: '四条河原町自由活動，或是前往平安神宮參觀。',
                type: ActivityType.SHOPPING,
                location: 'Heian Shrine'
              },
              {
                time: '18:30',
                title: '晚餐：壽喜燒',
                description: '壽喜燒三條河原町店。',
                type: ActivityType.FOOD,
                location: 'Sukiyaki Sanjo Kawaramachi'
              },
              {
                time: '傍晚',
                title: '回飯店休息',
                type: ActivityType.HOTEL
              }
            ]
          },
          {
            day: 3,
            date: '10/18 (六)',
            title: '移動日：伏見稻荷＋大阪摩天輪',
            activities: [
              {
                time: '08:30',
                title: '伏見稻荷大社',
                description: '參拜千本鳥居。',
                price: '免費',
                type: ActivityType.ATTRACTION,
                location: 'Fushimi Inari Taisha'
              },
              {
                time: '11:00',
                title: '午餐 & 取行李',
                description: '午餐後回飯店拿行李準備移動。',
                type: ActivityType.FOOD
              },
              {
                time: '14:20',
                title: '前往大阪',
                description: '搭乘 JR 新快速前往大阪。',
                type: ActivityType.TRANSPORT
              },
              {
                time: '15:30',
                title: 'HEP FIVE 摩天輪',
                description: '抵達梅田，搭乘紅色摩天輪。',
                note: '維修中，請確認開放狀況',
                type: ActivityType.ATTRACTION,
                location: 'HEP FIVE Ferris Wheel'
              },
              {
                time: '17:00',
                title: '大阪飯店 Check-in',
                description: '入住 The Bridge Hotel Shinsaibashi。',
                type: ActivityType.HOTEL,
                location: 'The Bridge Hotel Shinsaibashi'
              },
              {
                time: '18:30',
                title: '道頓堀 & 心齋橋',
                description: '自由活動、逛街。',
                type: ActivityType.SHOPPING,
                location: 'Dotonbori'
              }
            ]
          },
          {
            day: 4,
            date: '10/19 (日)',
            title: '大阪深度：大阪城＋今昔館',
            activities: [
              {
                time: '08:30',
                title: '前往大阪城',
                description: '搭地鐵至大阪商務園區。',
                type: ActivityType.TRANSPORT
              },
              {
                time: '09:00',
                title: '大阪城公園',
                description: '參觀大阪城、御座船、海洋堂博物館 (Kaiyodo Figure Museum)。',
                price: '周遊卷',
                type: ActivityType.ATTRACTION,
                location: 'Osaka Castle'
              },
              {
                time: '12:00',
                title: '大阪天滿宮',
                description: '參拜。',
                price: '免費',
                type: ActivityType.ATTRACTION,
                location: 'Ōsaka Temmangū'
              },
              {
                time: '12:30',
                title: '天神橋筋商店街',
                description: '享用午餐。',
                type: ActivityType.FOOD,
                location: 'Tenjinbashisuji Shopping Street'
              },
              {
                time: '13:30',
                title: '大阪生活今昔館',
                description: '穿越江戶時代街景，可體驗和服。',
                price: '周遊卷',
                type: ActivityType.ATTRACTION,
                location: 'Osaka Museum of Housing and Living'
              },
              {
                time: '15:30',
                title: '黑門市場',
                description: '嚐鮮海鮮、和牛串、水果大福。',
                type: ActivityType.FOOD,
                location: 'Kuromon Ichiba Market'
              },
              {
                time: '17:00',
                title: '逛街',
                description: '回心齋橋／道頓堀自由逛街。',
                type: ActivityType.SHOPPING
              },
              {
                time: '20:00',
                title: '燒肉晚餐',
                description: '燒肉力丸 難波道頓堀店。',
                type: ActivityType.FOOD,
                location: 'Rikimaru Namba Dotonbori'
              }
            ]
          },
          {
            day: 5,
            date: '10/20 (一)',
            title: '大鳥大社參拜＋返台',
            activities: [
              {
                time: '08:30',
                title: '前往鳳站',
                description: '地鐵至天王寺 → 轉 JR 至鳳站。',
                type: ActivityType.TRANSPORT
              },
              {
                time: '09:20',
                title: '大鳥大社',
                description: '參拜。',
                price: '免費',
                type: ActivityType.ATTRACTION,
                location: 'Otori Taisha'
              },
              {
                time: '10:00',
                title: '前往機場',
                description: '搭乘 JR 或 南海電鐵前往關西機場。',
                type: ActivityType.TRANSPORT
              },
              {
                time: '11:00',
                title: '機場報到',
                description: '報到、退稅、午餐。',
                type: ActivityType.OTHER,
                location: 'Kansai International Airport'
              },
              {
                time: '14:00',
                title: '搭機返台',
                description: '中華航空 CI0153。',
                type: ActivityType.FLIGHT
              }
            ]
          }
        ]
      };

      // --- Components ---

      const EventModal = ({ isOpen, onClose, activity }) => {
        const [isClosing, setIsClosing] = useState(false);

        useEffect(() => {
          if (isOpen) setIsClosing(false);
        }, [isOpen]);

        const handleClose = () => {
          setIsClosing(true);
          setTimeout(onClose, 200);
        };

        if (!isOpen && !isClosing) return null;
        if (!activity) return null;

        const googleMapsUrl = activity.location
          ? `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(activity.location)}`
          : null;

        const getHeaderColor = () => {
          switch(activity.type) {
            case ActivityType.ATTRACTION: return 'bg-rose-500';
            case ActivityType.FLIGHT: return 'bg-sky-600';
            case ActivityType.TRANSPORT: return 'bg-indigo-500';
            case ActivityType.FOOD: return 'bg-orange-500';
            case ActivityType.HOTEL: return 'bg-slate-700';
            case ActivityType.SHOPPING: return 'bg-purple-600';
            default: return 'bg-emerald-600';
          }
        };

        return (
          <div className={`fixed inset-0 z-50 flex items-end sm:items-center justify-center sm:px-4 transition-opacity duration-200 ${isClosing ? 'opacity-0' : 'opacity-100'}`}>
            <div 
              className="absolute inset-0 bg-black/60 backdrop-blur-sm" 
              onClick={handleClose}
            />
            <div className={`
              relative w-full max-w-md bg-white sm:rounded-2xl rounded-t-2xl shadow-2xl overflow-hidden 
              transform transition-transform duration-300
              ${isClosing ? 'translate-y-full sm:scale-95' : 'translate-y-0 sm:scale-100'}
            `}>
              {/* Header */}
              <div className={`${getHeaderColor()} p-6 text-white relative`}>
                <button 
                  onClick={handleClose}
                  className="absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors"
                >
                  <X size={20} />
                </button>
                <div className="mt-1">
                  <div className="inline-flex items-center gap-1 px-2.5 py-1 text-xs font-semibold bg-white/20 rounded-full mb-3 backdrop-blur-sm">
                    <Clock size={12} />
                    {activity.time}
                  </div>
                  <h3 className="text-2xl font-bold leading-tight pr-8">{activity.title}</h3>
                </div>
              </div>

              {/* Body */}
              <div className="p-6 space-y-5 max-h-[60vh] overflow-y-auto overscroll-contain">
                {activity.description && (
                  <div className="flex items-start gap-4">
                    <div className="p-2 bg-gray-50 rounded-lg shrink-0">
                      <Info className="w-5 h-5 text-gray-400" />
                    </div>
                    <p className="text-gray-700 leading-relaxed text-sm pt-1">{activity.description}</p>
                  </div>
                )}

                {activity.price && (
                  <div className="flex items-center gap-4">
                     <div className="p-2 bg-gray-50 rounded-lg shrink-0">
                      <Ticket className="w-5 h-5 text-gray-400" />
                    </div>
                    <p className="text-gray-700 font-medium">費用: {activity.price}</p>
                  </div>
                )}

                {activity.note && (
                  <div className="flex items-start gap-3 bg-amber-50 p-4 rounded-xl border border-amber-100">
                    <AlertTriangle className="w-5 h-5 text-amber-500 mt-0.5 shrink-0" />
                    <p className="text-sm text-amber-800 font-medium leading-relaxed">{activity.note}</p>
                  </div>
                )}

                {activity.location && (
                  <div className="flex items-center gap-4 pt-1">
                     <div className="p-2 bg-gray-50 rounded-lg shrink-0">
                      <MapPin className="w-5 h-5 text-gray-400" />
                    </div>
                    <span className="text-gray-600 font-medium text-sm truncate">{activity.location}</span>
                  </div>
                )}
              </div>

              {/* Footer */}
              <div className="p-6 pt-2 pb-8 safe-bottom bg-white border-t border-gray-50">
                {googleMapsUrl ? (
                  <a
                    href={googleMapsUrl}
                    target="_blank"
                    rel="noopener noreferrer"
                    className="flex items-center justify-center gap-2 w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3.5 px-4 rounded-xl transition-all active:scale-[0.98] shadow-lg shadow-blue-200"
                  >
                    <MapPin size={20} />
                    開啟 Google Maps
                  </a>
                ) : (
                   <button
                    onClick={handleClose}
                    className="flex items-center justify-center w-full bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold py-3.5 px-4 rounded-xl transition-all active:scale-[0.98]"
                  >
                    關閉
                  </button>
                )}
              </div>
            </div>
          </div>
        );
      };

      const Timeline = ({ activities, onSelectActivity }) => {
        const getIcon = (type) => {
          switch (type) {
            case ActivityType.FLIGHT: return <Plane size={18} />;
            case ActivityType.TRANSPORT: return <Train size={18} />;
            case ActivityType.HOTEL: return <BedDouble size={18} />;
            case ActivityType.ATTRACTION: return <Camera size={18} />;
            case ActivityType.FOOD: return <Utensils size={18} />;
            case ActivityType.SHOPPING: return <ShoppingBag size={18} />;
            default: return <MapPin size={18} />;
          }
        };

        const getColors = (type) => {
          switch (type) {
            case ActivityType.FLIGHT: return 'bg-sky-100 text-sky-600 ring-sky-100';
            case ActivityType.TRANSPORT: return 'bg-indigo-50 text-indigo-600 ring-indigo-50';
            case ActivityType.HOTEL: return 'bg-slate-100 text-slate-600 ring-slate-100';
            case ActivityType.ATTRACTION: return 'bg-rose-50 text-rose-600 ring-rose-50';
            case ActivityType.FOOD: return 'bg-orange-50 text-orange-600 ring-orange-50';
            case ActivityType.SHOPPING: return 'bg-purple-50 text-purple-600 ring-purple-50';
            default: return 'bg-gray-50 text-gray-600 ring-gray-100';
          }
        };

        return (
          <div className="relative pl-6 space-y-8 pb-32">
            {/* Vertical Line */}
            <div className="absolute left-[29px] top-4 bottom-0 w-0.5 bg-gray-200/60 rounded-full" />
            
            {activities.map((activity, index) => {
              const colors = getColors(activity.type);
              return (
                <div 
                  key={index} 
                  className="relative flex gap-5 group cursor-pointer animate-fadeIn"
                  style={{ animationDelay: `${index * 50}ms` }}
                  onClick={() => onSelectActivity(activity)}
                >
                  {/* Timeline Dot */}
                  <div className={`
                    relative z-10 flex items-center justify-center w-12 h-12 rounded-2xl shrink-0 
                    bg-white shadow-sm ring-4 transition-transform group-active:scale-95
                    ${colors}
                  `}>
                    {getIcon(activity.type)}
                  </div>

                  {/* Card */}
                  <div className="flex-1 bg-white rounded-2xl p-4 shadow-[0_2px_8px_rgb(0,0,0,0.04)] border border-gray-100/50 active:scale-[0.98] transition-all">
                    <div className="flex items-center gap-2 mb-2">
                      <div className="flex items-center gap-1 text-[11px] font-bold text-gray-400 uppercase tracking-wider bg-gray-50 px-2 py-1 rounded-md">
                        <Clock size={10} />
                        {activity.time}
                      </div>
                    </div>
                    <h3 className="font-bold text-gray-800 text-[17px] mb-1 leading-snug">{activity.title}</h3>
                    {activity.description && (
                      <p className="text-gray-500 text-sm leading-relaxed line-clamp-2">{activity.description}</p>
                    )}
                    {activity.note && (
                      <p className="text-amber-600 text-xs mt-2 font-medium flex items-center gap-1.5 bg-amber-50 inline-block px-2 py-1 rounded">
                         <AlertTriangle size={10} /> {activity.note}
                      </p>
                    )}
                  </div>
                </div>
              );
            })}
          </div>
        );
      };

      const InfoSection = ({ data }) => {
        const [isOpen, setIsOpen] = useState(false);
        return (
          <div className="bg-white rounded-2xl shadow-[0_2px_12px_rgba(0,0,0,0.04)] border border-gray-100 overflow-hidden mb-8 transition-all">
            <button 
              onClick={() => setIsOpen(!isOpen)}
              className="w-full flex items-center justify-between p-5 bg-gradient-to-r from-blue-50/50 to-transparent hover:bg-blue-50 transition-colors"
            >
              <div className="flex items-center gap-3">
                <div className="bg-blue-100 p-2 rounded-lg text-blue-600">
                  <Plane size={20} />
                </div>
                <div className="text-left">
                  <span className="block font-bold text-gray-800 text-sm">航班與住宿資訊</span>
                  <span className="text-xs text-gray-500">點擊查看詳情</span>
                </div>
              </div>
              {isOpen ? <ChevronUp size={20} className="text-gray-400" /> : <ChevronDown size={20} className="text-gray-400" />}
            </button>
            
            {isOpen && (
              <div className="p-5 space-y-6 border-t border-gray-100 animate-fadeIn bg-white">
                {/* Outbound */}
                <div className="relative">
                  <div className="absolute left-[7px] top-8 bottom-0 w-0.5 bg-gray-100"></div>
                  <div className="flex gap-4 mb-4">
                    <div className="w-4 h-4 rounded-full bg-blue-100 border-2 border-blue-500 shrink-0 mt-1"></div>
                    <div>
                      <h4 className="text-xs font-bold text-gray-400 uppercase mb-1">去程 (10/16)</h4>
                      <div className="text-sm font-bold text-gray-800">{data.flights.outbound.flightNumber}</div>
                      <div className="text-sm text-gray-600 mt-1">
                        {data.flights.outbound.departureTime} {data.flights.outbound.departureAirport}
                        <br/>
                        ↓
                        <br/>
                        {data.flights.outbound.arrivalTime} {data.flights.outbound.arrivalAirport}
                      </div>
                    </div>
                  </div>
                  
                  {/* Inbound */}
                   <div className="flex gap-4">
                    <div className="w-4 h-4 rounded-full bg-blue-100 border-2 border-blue-500 shrink-0 mt-1"></div>
                    <div>
                      <h4 className="text-xs font-bold text-gray-400 uppercase mb-1">回程 (10/20)</h4>
                      <div className="text-sm font-bold text-gray-800">{data.flights.inbound.flightNumber}</div>
                      <div className="text-sm text-gray-600 mt-1">
                        {data.flights.inbound.departureTime} {data.flights.inbound.departureAirport}
                        <br/>
                        ↓
                        <br/>
                        {data.flights.inbound.arrivalTime} {data.flights.inbound.arrivalAirport}
                      </div>
                    </div>
                  </div>
                </div>

                <div className="h-px bg-gray-100" />

                {/* Hotels */}
                <div>
                  <h4 className="text-xs font-bold text-gray-400 uppercase mb-3 flex items-center gap-2">
                    <Building size={14} /> 住宿安排
                  </h4>
                  <div className="grid grid-cols-1 gap-3">
                    <div className="bg-slate-50 p-3 rounded-xl border border-slate-100">
                      <span className="text-xs font-semibold text-slate-400 block mb-1">京都 (Day 1-2)</span>
                      <span className="font-bold text-slate-800 text-sm">{data.hotels.kyoto}</span>
                    </div>
                    <div className="bg-slate-50 p-3 rounded-xl border border-slate-100">
                      <span className="text-xs font-semibold text-slate-400 block mb-1">大阪 (Day 3-4)</span>
                      <span className="font-bold text-slate-800 text-sm">{data.hotels.osaka}</span>
                    </div>
                  </div>
                </div>
              </div>
            )}
          </div>
        );
      };

      const App = () => {
        const [activeDay, setActiveDay] = useState(1);
        const [selectedActivity, setSelectedActivity] = useState(null);
        const [isModalOpen, setIsModalOpen] = useState(false);
        const scrollContainerRef = useRef(null);

        useEffect(() => {
          window.scrollTo({ top: 0, behavior: 'smooth' });
        }, [activeDay]);

        // Auto scroll tab into view
        useEffect(() => {
          if (scrollContainerRef.current) {
             const activeTab = scrollContainerRef.current.children[activeDay - 1];
             if (activeTab) {
               const containerLeft = scrollContainerRef.current.offsetLeft;
               const activeTabLeft = activeTab.offsetLeft;
               const scrollAmount = activeTabLeft - containerLeft - 20; // 20px padding
               scrollContainerRef.current.scrollTo({ left: scrollAmount, behavior: 'smooth' });
             }
          }
        }, [activeDay]);

        const handleActivityClick = (activity) => {
          setSelectedActivity(activity);
          setIsModalOpen(true);
        };

        const closeModal = () => {
          setIsModalOpen(false);
        };

        const currentItinerary = TRIP_DATA.itinerary.find(d => d.day === activeDay);

        return (
          <div className="min-h-screen bg-gray-50/50 font-sans max-w-[500px] mx-auto shadow-2xl shadow-gray-200">
            {/* Header */}
            <header className="bg-white/80 backdrop-blur-md sticky top-0 z-30 border-b border-gray-100">
              <div className="px-5 py-4 flex items-center justify-between">
                <div>
                  <h1 className="text-xl font-black text-gray-800 flex items-center gap-2 tracking-tight">
                    <Map className="text-rose-500 fill-rose-500" size={20} />
                    京阪家族之旅
                  </h1>
                  <p className="text-xs text-gray-500 font-medium ml-7">2025/10/16 - 10/20</p>
                </div>
              </div>

              {/* Tabs */}
              <div 
                ref={scrollContainerRef}
                className="overflow-x-auto no-scrollbar flex px-4 pb-0 snap-x"
              >
                {TRIP_DATA.itinerary.map((day) => (
                  <button
                    key={day.day}
                    onClick={() => setActiveDay(day.day)}
                    className={`
                      flex flex-col items-center pt-3 pb-3 px-1 min-w-[72px] relative snap-start
                      transition-colors outline-none
                    `}
                  >
                    <span className={`text-[10px] font-bold uppercase mb-1 ${activeDay === day.day ? 'text-rose-500' : 'text-gray-400'}`}>
                      Day {day.day}
                    </span>
                    <span className={`text-base font-bold whitespace-nowrap ${activeDay === day.day ? 'text-gray-800' : 'text-gray-400'}`}>
                      {day.date.split(' ')[0]}
                    </span>
                    {activeDay === day.day && (
                      <div className="absolute bottom-0 left-2 right-2 h-[3px] bg-rose-500 rounded-t-full" />
                    )}
                  </button>
                ))}
              </div>
            </header>

            {/* Main Content */}
            <main className="px-5 pt-6 safe-bottom">
              <InfoSection data={TRIP_DATA} />
              
              <div className="mb-6 animate-fadeIn">
                <div className="flex items-center gap-2 text-rose-500 mb-2">
                  <div className="bg-rose-100 p-1.5 rounded-md">
                    <Calendar size={14} className="text-rose-600" />
                  </div>
                  <span className="text-xs font-bold tracking-widest uppercase text-rose-600">行程表</span>
                </div>
                <h2 className="text-2xl font-black text-gray-800 leading-tight mb-1">
                  {currentItinerary?.title.split('：')[0]}
                </h2>
                <p className="text-gray-500 font-medium">{currentItinerary?.title.split('：')[1] || currentItinerary?.title}</p>
              </div>

              {currentItinerary && (
                <Timeline 
                  activities={currentItinerary.activities} 
                  onSelectActivity={handleActivityClick}
                />
              )}
            </main>

            <EventModal 
              isOpen={isModalOpen} 
              onClose={closeModal} 
              activity={selectedActivity} 
            />
          </div>
        );
      };

      const root = createRoot(document.getElementById('root'));
      root.render(<App />);
    </script>
  </body>
</html>
